We analyze the text content of daily Twitter feeds by two mood tracking tools, namely OpinionFinder that measures positive vs. negative mood and Google-Profile of Mood States (GPOMS) that measures mood in terms of 6 dimensions (Calm, Alert, Sure, Vital, Kind, and Happy).

A Granger causality analysis and a Self-Organizing Fuzzy Neural Network are then used to investigate the hypothesis that public mood states, as measured by the OpinionFinder and GPOMS mood time series, are predictive of changes in DJIA closing values.

According to the EMH **stock market prices are largely driven by new information, i.e. news, rather than present and past prices**.

1. There are two problems with EMH.

 >First, numerous studies show that stock market prices do not follow a random walk and can indeed to some degree be predicted [5], [6], [7], [8] thereby calling into question EMH's basic assumptions. 
 
 >Second, recent research suggests that news may be unpredictable but that very early indicators can be extracted from online social media (blogs, Twitter feeds, etc) to predict changes in various economic and commercial indicators.

2. We know from psychological research that emotions, in addition to information, play an significant role in human decision-making [16], [18], [39].

3. Behavioral finance has provided further proof that financial decisions are significantly driven by emotion and mood [20].

However, if it is our goal to study how public mood influences the stock markets, we need reliable, scalable and early assessments of the public mood at a time-scale and resolution appropriate for practical stock market prediction.

In this paper we investigate whether public sentiment, as expressed in large-scale collections of daily Twitter posts, can be used to predict the stock market.

The first tool, OpinionFinder, analyses the text content of tweets submitted on a given day to provide a positive vs. negative daily time series of public mood.

The second tool, GPOMS, similarly analyses the text content of tweets to generate a six-dimensional daily time series of public mood to provide a more detailed view of changes in public along a variety of different mood dimensions.

**Our results indicate that the prediction accuracy of standard stock market prediction models is significantly improved when certain mood dimensions are included, but not others**.

In particular variations along the public mood dimensions of Calm and Happiness as measured by GPOMS seem to have a predictive effect, but not general happiness as measured by the OpinionFinder tool.

We obtained a collection of public tweets that was recorded from February 28 to December 19th, 2008 (9,853,498 tweets posted by approximately 2.7M users).

We only take into account tweets that contain explicit statements of their author's mood states, i.e. those that match the expressions “i feel”,“i am feeling”,“i'm feeling”,“i dont feel”, “I'm”, “Im”, “I am”, and “makes me”.

In order to avoid spam messages and other information-oriented tweets, we also filter out tweets that match the regular expressions ”http:” or ”www.”

This results in a total of 7 public mood time series, one generated by OpinionFinder and six generated by GPOMS, each representing a potentially different aspect of the public's mood on a given day.

1. In the first phase, we subject the collections of daily tweets to 2 mood assessment tools: (1) OpinionFinder which measures positive vs. negative mood from text content, and (2) GPOMS which measures 6 different mood dimensions from text content.

2. In the second phase, we investigate the hypothesis that public mood as measured by GPOMS and OpinionFinder is predictive of future DJIA values.

 >We use a Granger causality analysis in which we correlate DJIA values to GPOMs and OF values of the past n days.

3. In the third phase, we deploy a Self-Organizing Fuzzy Neural Network model to test the hypothesis that the prediction accuracy of DJIA prediction models can be improved by including measurements of public mood.

The resulting time series were shown to correlate with the Consumer Confidence Index from Gallup3 and the Reuters/University of Michigan Surveys of Consumers4 over a given period of time.

Like many sentiment analysis tools OF adheres to a unidimensional model of mood, making binary distinctions between positive and negative sentiment [23]. This may however ignore the rich, multi-dimensional structure of human mood.

To make it applicable to Twitter mood analysis we expanded the original 72 terms of the POMS questionnaire to a lexicon of 964 associated terms by analyzing word co-occurrences in a collection of 2.5 billion 4- and 5-grams5 computed by Google in 2006 from approximately 1 trillion word tokens observed in publicly accessible Webpages [35], [36].

To enable the comparison of OF and GPOMS time series we normalize them to z-scores on the basis of a local mean and standard deviation within a sliding window of k days before and after the particular date.

For example, the z-score of time series Xt, denoted ZXt, is defined as: ZXt = Xt − ¯ x(Xt±k) σ(Xt±k) (1) where ¯ x(Xt±k) and σ(Dt±k) represent the mean and standard deviation of the time series within the period [t−k, t+k].

This normalization causes all time series to fluctuate around a zero mean and be expressed on a scale of 1 standard deviation.

To quantitatively determine the relations between GPOMS's mood dimensions and the OF mood trends, we test the correlation between the trend obtained from OF lexicon and the six dimensions of GPOMS using multiple regression.

The regression model is shown in Eq. 2. YOF = α + n X i βiXi + � t (2) where X1, X2, X3, X4, X5 and X6 represent the mood time series obtained from the 6 GPOMS dimensions, respectively

Calm, Alert, Sure, Vital, Kind and Happy.

we are concerned with the question whether other variations of the public's mood state correlate with changes in the stock market, in particular DJIA closing values. To answer this question, we apply the econometric technique of Granger causality analysis to the daily time series produced by GPOMS and OpinionFinder vs. the DJIA.

Granger causality analysis rests on the assumption that if a variable X causes Y then changes in X will systematically occur before changes in Y .

Correlation however does not prove causation. We therefore use Granger causality analysis in a similar fashion to [10]; we are not testing actual causation but whether one time series has predictive information about the other or not7.

Our DJIA time series, denoted Dt, is defined to reflect daily changes in stock market value, i.e. its values are the delta between day t and day t − 1: Dt = DJIAt − DJIAt−1.

The first model (L1) uses only n lagged values of Dt, i.e. (Dt−1, · · · , Dt−n) for prediction, while the second model L2 uses the n lagged values of both Dt and the GPOMS plus the OpinionFinder mood time series denoted Xt−1, · · · , Xt−n.

We perform the Granger causality analysis according to model L1 and L2 shown in Eq. 3 and 4 for the period of time between February 28 to November 3, 2008 to exclude the exceptional public mood response to the Presidential Election and Thanksgiving from the comparison. GPOMS and OpinionFinder time series were produced for 342,255 tweets in that period, and the daily Dow Jones Industrial Average (DJIA) was retrieved from Yahoo! Finance for each day8. L1 : Dt = α + n X i=1 βiDt−i + � t (3) L2 : Dt = α + n X i=1 βiDt−i + n X i=1 γiXt−i + � t (4)

The deviation between Calm values and the DJIA on that day illustrates that unexpected news is not anticipated by the public mood yet remains a significant factor in modeling the stock market.

Our Granger causality analysis suggests a predictive relation between certain mood dimensions and DJIA.

However, Granger causality analysis is based on linear regression whereas the relation between public mood and stock market values is almost certainly non-linear.

To better address these non-linear effects and assess the contribution that public mood assessments can make in predictive models of DJIA values, we compare the performance of a Self-organizing Fuzzy Neural Network (SOFNN) model [30] that predicts DJIA values on the basis of two sets of inputs: (1) the past 3 days of DJIA values, and (2) the same combined with various permutations of our mood time series (explained below).

We use a SOFNN as our prediction model since they have previously been used to decode nonlinear time series data which describe the characteristics of the stock market [28] and predict its values [29].

Fig. 4 shows that the Fall of 2008 is an unusual period for the DJIA due to a sudden dramatic decline of stock prices. This variability may in fact render stock market prediction more difficult than in other periods.

The Granger causality analysis indicates that only Calm (and to some degree Happy) is Granger-causative of DJIA values.

For example, Happy may not be independently linearly related with DJIA, but it may nevertheless improve the SOFNN prediction accuracy when combined with Calm.

Forecasting accuracy is measured in terms of the average Mean Absolute Percentage Error (MAPE) and the direction accuracy (up or down) during the test period (December 1 to December 19, 2008).

We can draw several conclusions from these results.

1. First, adding positive/negative sentiment obtained from OF (IOF) has no effect on prediction accuracy compared to using only historical DJIA values(I0).

2. Second, adding Calm, i.e. input I1, we find the highest prediction accuracy. Compared to I0 and all other input combinations, adding input I1 leads to significant improvements in MAPE values (1.83% vs. the maximum of 2.13% and 1.95% for IOF) and direction accuracy (86.7% compared to 73.3% for IOF and 46.7% for I1,3).

3. Thirdly, I1,3 and I1,4 actually reduce prediction accuracy significantly both in terms of MAPE and direction %, most likely because X3 (Sure) and X4 (Vital) do not contain information that is useful for prediction of DJIA values causing prediction accuracy to regress to chance levels.

Since the SOFNN prediction is more accurate when using a combination of X1 and X6, we conclude that this confirms a nonlinear relation among the different dimensions of moods.

Our results show that changes in the public mood state can indeed be tracked from the content of large-scale Twitter feeds by means of rather simple text processing techniques and that such changes respond to a variety of socio-cultural drivers in a highly differentiated manner.

Among the 7 observed mood dimensions only some are Granger causative of the DJIA; changes of the public mood along these mood dimensions match shifts in the DJIA values that occur 3 to 4 days later.

The calmness of the public (measured by GPOMS) is thus predictive of the DJIA rather than general levels of positive sentiment as measured by OpinionFinder.

Given the performance increase for a relatively basic model such as the SOFNN we are hopeful to find equal or better improvements for more sophisticated market models that may in fact include other information derived from news sources, and a variety of relevant economic indicators.

Public mood analysis from Twitter feeds on the other hand offers an automatic, fast, free and large-scale addition to this toolkit that may in addition be optimized to measure a variety of dimensions of the public mood state.

1. First, we note that our analysis is not designed to be limited to any particular geographical location nor subset of the world's population.

 >future analysis will have to factor in location and language to avoid geographical and cultural sampling errors.

2. Second, although we have cross-validated the results of 2 different tools to assess public mood states, we have no knowledge of the “ground truth” for public mood states nor in fact for the particular subsample of the population represented by the community of Twitter.com users.

Third, these results are strongly indicative of a predictive correlation between measurements of the public mood states from Twitter feeds, but offer no information on the causative mechanisms that may connect public mood states with DJIA values in this manner.

###Summary

Granger causality analysis and a self-organizing fuzzy neural network

Based on the assumption of EMH and knowledge from psychology and behaviour finance, Bollen, Mao and Zeng use OpinionFinder and GPOMS (Google Profile Of Mood States or OpinionFinder) to evaluate the correlationship between public mood expressions on Twitter and DJIA market trend in the period of February to December of 2008. Developed from previous two-polarity sentiment analysis, they design a 6-dimension mood model (calm, alert, sure, vital, kind and happy) by GPOMS in order to look into the details of the influence of public moods. Their research only focus on the tweets containing the first person singular pronouns, such as 'i feel', 'i am feeling', 'i dont feel', 'i'm', 'im', 'i am', and 'makes me', regardless of geographical limitation. moreover, they exclude tweets containing the pattern '!http:' or 'www'. They point out that the relationship between public mood and stock trend is often not a linear relation, so they use a SOFNN (Self Organising Fuzzy Neutral Network) model to evaluate it. The result shows that only calmness matches this model, which indicates that certain mood can be more indicative than others. Furthermore, their research suggests that different mood would perform differently in predicting the market trend, in which, calm, followed by happiness, is often the most useful indicator. They find that there is a nonlinear correlation between different moods, which implies that different moods may contribute to market together. The window of reaction time in DJIA, according to their study, is about 3 to 4 days, which is much longer than Spreger & Welpe's next-day effect. The main limitation is that they use Granger causality analysis to evaluate the relationship between public moods and market, which is based on a linear relationship.
